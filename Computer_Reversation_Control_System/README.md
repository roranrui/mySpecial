# 机房预约系统

## 1、机房预约功能介绍

### 1.1 系统简介

* 现发现学校机房太多, 伯乐马公司不便管理, 于是开发出此系统来管理学校机房

****

### 1.2 身份简介

分别有三种身份使用该程序

* **学生代表**：申请使用机房
* **教师**：审核学生的预约申请
* **管理员**：给学生、教师创建账号

****

### 1.3 机房简介

机房总共有3间

* 1号机房   --- 最大容量20人
* 2号机房   --- 最多容量50人
* 3号机房   --- 最多容量100人
* 3号机房   --- 最多容量100人
* 3号机房   --- 最多容量200人
* 3号机房   --- 最多容量200人

****

### 1.4 申请简介

* 申请的订单每周由管理员负责清空。
* 学生可以预约未来一周内的机房使用，预约的日期为周一至周五，预约时需要选择预约时段（上午、下午）
* 教师来审核预约，依据实际情况审核预约通过或者不通过

****

### 1.5 系统具体需求

* 首先进入登录界面，可选登录身份有：
  * 学生代表
  * 老师
  * 管理员
  * 退出
* 每个身份都需要进行验证后，进入子菜单
  * 学生需要输入 ：学号、姓名、登录密码
  * 老师需要输入：职工号、姓名、登录密码
  * 管理员需要输入：管理员姓名、登录密码
* 学生具体功能
  * 申请预约    ---   预约机房
  * 查看自身的预约    ---  查看自己的预约状态
  * 查看所有预约   ---   查看全部预约信息以及预约状态
  * 取消预约    ---   取消自身的预约，预约成功或审核中的预约均可取消
  * 注销登录    ---   退出登录
* 教师具体功能
  * 查看所有预约   ---   查看全部预约信息以及预约状态
  * 审核预约    ---   对学生的预约进行审核
  * 注销登录    ---   退出登录
* 管理员具体功能
  * 添加账号    ---   添加学生或教师的账号，需要检测学生编号或教师职工号是否重复
  * 查看账号    ---   可以选择查看学生或教师的全部信息
  * 查看机房    ---   查看所有机房的信息
  * 清空预约    ---   清空所有预约记录
  * 注销登录    ---   退出登录

****

## 2. 开发环境

* 使用语言: C++__11

* 文件统一编码格式: UTF-8 

* 是否有额外拓展库: 无

* IDEA版本: CLion 2021.2.2

* 开发人员: 

  1. 高四年级主任: 康托

  2. 伯乐马教育考试院院长: 川普



****

## 3. 文件结构介绍

* **main.cpp: **主程序文件, 用于运行机房管理系统
* **Identity.h: **身份的基类, 用于子类继承
  * **student.cpp**
    **student.h** 封装了学生身份的类
  * **teacher.h**
    **teacher.cpp** 封装了教师身份的类
  * **administor.cpp**
    **administor.h** 封装了管理员身份的类

* **globalFile.h: **用于定义存储机房系统的文件
  * teacher.txt  用于存储教师信息的文件
  * student.txt 用于存储学生信息的文件
  * order.txt 用于存储机房预约信息的文件
  * computerRoom.txt 用于存储教师信息的文件
  * admin.txt 用于存储管理员信息的文件



### order.txt文件说明

* date: 日期, 1~6依次代表周一到周六
* interval: 时间间隔, 1是上午, 2是下午
* stuId: 学生学号
* stuName: 学生姓名
* roomId: 机房序号
* status: 预约状态
  * 1: 审核中
  * 2: 审核通过
  * -1: 审核失败
  * 0: 取消审核

****

### admin.txt文件说明

存放管理员账号, 不可读取, 也不可通过系统创建, 仅支持从文件进行修改

****

### computerRoom.txt文件说明

存放机房信息, 可以读取但不支持从系统内修改, 仅支持从文件进行修改

****

## 4. 已知Bug

各种信息不支持中文输入, 写入文件会被转码为GBK格式, 暂未想到解决办法

****

## 5. 未来功能设想

* 管理员实现批量添加账号
* 管理员删除账号可以指定id号或者姓名, 而不是清空
* 管理员可以对账号按id进行排序操作
* 管理员可以在系统内对机房信息进行修改